<p-dialog header="Header" [(visible)]="visible" [style]="{ width: dialogWidth }" [position]="'center'"
    (onHide)="closePopup()">
    <ng-template pTemplate="header">
        <div class="feedback-header-div flex align-items-center">
            <div class="flex align-items-center">
                <i class=" pi pi-angle-left mr-3 pointer" (click)="utils.showFeedbackPopupByType('customer-feedback')">
                </i>
                <div>
                    <p class="text-2xl m-0">View Existing Feedback</p>
                    <p class="text-sm m-0">Your feedback is yser to improve xnode</p>
                </div>
            </div>
            <p-selectButton [options]="areaTypes" [(ngModel)]="selectedArea" optionLabel="label" optionValue="value"
                class="feedback-header-options ml-4" (onChange)="onChangeArea($event)"></p-selectButton>
        </div>
    </ng-template>
    <div class="feedback-div grid m-0">
        <div class="col-5 p-0 feedback-list">
            <div class="flex justify-content-between flex-wrap p-3">
                <!-- <p-dropdown [options]="[]" optionLabel="name" placeholder="All" class="text-sm"></p-dropdown> 
                <span class="p-input-icon-right">
                    <input type="text" pInputText class="search" />
                    <i class="pi pi-search"></i>
                </span>  -->
            </div>
            <div class="report-list-height">
                <div class="list-item pl-8 pr-8 pt-4 pr-4" *ngFor="let report of reportList;let i= index"
                    [ngClass]="{'active': selectedIndex === i}">
                    <div (click)="onSelectListItem(report,i)">
                        <div class="flex justify-content-between flex-wrap">
                            <b class="text-base">Product-{{i +1}}, {{report.componentId}}</b>
                            <p class="text-sm m-0">ID #38374{{i+1}}</p>
                        </div>
                        <p class="text-sm font-normal m-0 pb-2">
                            Lorem Ipsum is simply dummy text of the printing and typesetting industry
                        </p>
                        <div class="flex justify-content-between flex-wrap align-items-center">
                            <div class="flex align-items-center">
                                <p-avatar image="https://primefaces.org/cdn/primeng/images/demo/avatar/amyelsner.png"
                                    shape="circle"></p-avatar>
                                <p class="m-0 pl-2 font-sm font-medium">{{currentUser?.xnode_user_data?.first_name}}
                                    {{currentUser?.xnode_user_data?.last_name}}</p>
                            </div>
                            <div class="text-sm font-normal border-left-1 border-right-1 pl-4 pr-4">
                                7:30 pm on 29 August 2023
                            </div>
                            <p class="m-0 text-sm font-normal">
                                Status <span>
                                    Open
                                </span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-7 feedback-detail" *ngIf="reportList?.length">
            <div class="grid m-0">
                <div class="col-12 pl-4 pr-4">
                    <div class="flex justify-content-between flex-wrap">
                        <div class="flex align-items-center">
                            <p class="m-0">{{selectedListItem?.id}} #305879</p>
                            <p-chip label="Open" class="ml-3"></p-chip>
                        </div>
                        <!-- <p-button label="Mark as Fixed" styleClass="p-button-outlined p-button-rounded"></p-button> -->
                    </div>
                    <p class="text-2xl font-medium">Product - {{selectedListItem?.componentId}}</p>
                    <p class="font-light text-base">
                        Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has
                        been
                        the
                        industry's standard dummy text ever since the 1500s, when an unknown printer took a galley
                        of
                        type and
                        scrambled it to make a type specimen book. It has survived not only five centuries, but also
                        the
                        leap
                        into electronic typesetting, remaining essentially unchanged
                    </p>
                    <div class="flex align-items-center">
                        <img src="./assets/attachment.svg" alt="att" class="mr-2">
                        <p class="m-0">1 Attachment</p>
                    </div>
                    <img src="./assets/att-file.svg" alt="att img">
                    <!-- <div class="flex align-items-center mt-4">
                        <p class="m-0 mr-2 text-sm">Tags: </p>
                        <p-chip label="Action" class="mr-2 ml-2"></p-chip>
                        <p-chip label="Action" class="mr-2"></p-chip>
                        <p-chip label="Action" class="mr-2"></p-chip>
                    </div> -->
                    <div class="flex justify-content-between flex-wrap align-items-center mt-4">
                        <div class="flex align-items-center">
                            <p-avatar image="https://primefaces.org/cdn/primeng/images/demo/avatar/amyelsner.png"
                                shape="circle"></p-avatar>
                            <p class="m-0 pl-2 font-sm font-medium">{{currentUser?.xnode_user_data?.first_name}}
                                {{currentUser?.xnode_user_data?.last_name}}<span
                                    class="text-sm font-normal border-left-1 ml-4 pl-4">
                                    7:30 pm on 29 August 2023
                                </span></p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- <div class="grid m-0  border-bottom-1 pl-4 pr-4 pt-2 pb-2" *ngIf="!showMessageBox">
                <div class="col-md-10">
                    <p class="m-0">Thanks for reaching out, our team will look into the issue raised and try to resolve
                        as quick as
                        possible.</p>
                </div>
                <div class="col-md-2">
                    <p-button label="Replay" styleClass="p-button-outlined p-button-rounded float-right"
                        (click)="this.showMessageBox = true"></p-button>
                </div>
                <div class="col-md-12 mt-2">
                    <div class="flex justify-content-between flex-wrap align-items-center">
                        <div class="flex align-items-center">
                            <p-avatar image="https://primefaces.org/cdn/primeng/images/demo/avatar/amyelsner.png"
                                shape="circle"></p-avatar>
                            <p class="m-0 pl-2 font-sm font-medium">Mike Abbott<span
                                    class="text-sm font-normal border-left-1 ml-4 pl-4">
                                    7:30 pm on 29 August 2023
                                </span></p>
                        </div>
                    </div>
                </div>
            </div> -->
            <div class="grid m-0 pl-4 pr-4 pt-2 pb-2" *ngIf="showMessageBox">
                <div class=" col-md-12">
                    <div class="flex justify-content-between flex-wrap">
                        <div class="flex align-items-center">
                            <p-avatar image="https://primefaces.org/cdn/primeng/images/demo/avatar/amyelsner.png"
                                shape="circle"></p-avatar>
                            <p class="m-0 pl-2 font-sm font-medium">{{currentUser?.xnode_user_data?.first_name}}
                                {{currentUser?.xnode_user_data?.last_name}}</p>
                        </div>
                        <p-button label="Update" styleClass="p-button-outlined p-button-rounded"
                            (click)="this.showMessageBox = false"></p-button>
                    </div>
                    <textarea rows="5" cols="30" pInputTextarea class="w-full"></textarea>
                </div>
            </div>
        </div>
    </div>
</p-dialog>