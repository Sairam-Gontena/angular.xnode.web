<p-table #dt [rows]="10" [scrollable]="true" scrollHeight="490px" [rowHover]="true" dataKey="id"
     [globalFilterFields]="headers" styleClass="p-datatable-sm" [autoLayout]="true" scrollDirection="horizontal"
     [tableStyle]="{ 'width':'100%'}" [value]="dynamicData" [columns]="cols">
     <ng-template pTemplate="caption" *ngIf="showHeaderMenu">
          <div class="flex justify-content-between align-items-center" style="background-color: #302E38;">
               <span class="p-input-icon-left" *ngIf="showSearch">
                    <i class="pi pi-search"></i>
                    <input pInputText type="text" placeholder="Search by User Name, Lead No ..." />
               </span>
               <div class="flex-wrap">
                    <p-button styleClass="p-button-rounded mr-3" *ngIf="showDelete">
                         <img src="../../assets/delete.svg" alt="circle-ci-image" class="text-sm ml-1">
                         <span class=" text-sm font-semibold font-family-inter ml-2">Delete</span>
                    </p-button>
                    <p-button styleClass="p-button-rounded mr-3 " *ngIf="showExport">
                         <img src="../../assets/export.svg" alt="circle-ci-image" class="text-sm">
                         <span class=" text-sm font-semibold font-family-inter ml-2">Export</span>
                         <i class="pi pi-chevron-down ml-2"></i>
                    </p-button>
               </div>
          </div>
     </ng-template>
     <ng-template pTemplate="header" let-columns>
          <tr>
               <th *ngFor="let col of columns">
                    {{ col.header }}
               </th>
          </tr>
     </ng-template>
     <ng-template pTemplate="header" let-columns>
          <tr class="custom-cell">
               <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
               <th *ngFor="let col of columns" [ngClass]="'tableheader'">
                    {{ col.header }}
                    <i class="pi pi-chevron-down ml-1  text-xs font-small    "></i>
               </th>
          </tr>
     </ng-template>
     <ng-template pTemplate="body" let-rowData let-columns="columns" let-editing="editing" let-i="rowIndex">
          <tr *ngIf="editable" class="text-white text-xs custom-cell"
               [ngStyle]="{ 'background-color': i % 2 == 0 ? '#302E38'  : '#3A3942'}">
               <td style="width: 2rem;background-color: #3A3942;border-width: 0px;">
                    <p-tableCheckbox [value]="true"></p-tableCheckbox>
               </td>
               <td *ngFor="let col of headers" class="border-transparent" [pEditableColumn]="rowData[col]"
                    pEditableColumnField="col">
                    <ng-container *ngIf="col !== 'action' && col !== 'interestlevel'">
                         {{ rowData[col] }}
                    </ng-container>
                    <ng-container *ngIf="col === 'interestlevel'">
                         <div class="flex">
                              <ng-container *ngFor="let key of rowData[col] | keyvalue">
                                   <span *ngIf="key.value">{{ key.key}}</span>
                              </ng-container>
                         </div>
                    </ng-container>
                    <ng-container *ngIf="col === 'action'">
                         <div class="flex">
                              <div *ngFor="let key of getObjectKeys(rowData[col].values)">
                                   <div *ngIf="allValuesTrue(rowData[col].values)"> <p-button
                                             [styleClass]="'p-button-rounded status mr-2 ' + rowData[col].color[key]"
                                             *ngIf="!rowData[col].values[key]">
                                             <span class="text-sm font-semibold font-family-inter">
                                                  {{ key | titlecase }}
                                             </span>
                                        </p-button>
                                   </div>
                                   <ng-container *ngIf=" !allValuesTrue(rowData[col].values)">
                                        <span class="text-sm font-semibold font-family-inter"
                                             [ngClass]="rowData[col].color[key]"
                                             *ngIf="rowData[col].values[key] && rowData[col].color[key] == 'Success' ">
                                             {{ key + 'd' | titlecase }}
                                        </span>
                                        <span class="text-sm font-semibold font-family-inter"
                                             [ngClass]="rowData[col].color[key]"
                                             *ngIf="rowData[col].values[key] && rowData[col].color[key] !== 'Success'">
                                             {{ key | titlecase }}
                                        </span>
                                   </ng-container>
                              </div>
                         </div>
                    </ng-container>
               </td>
          </tr>
     </ng-template>
</p-table>