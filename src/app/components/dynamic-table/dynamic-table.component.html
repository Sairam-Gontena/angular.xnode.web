<xnode-confirmation-popup [Data]="userDetails" *ngIf="showConfirmationPopover"></xnode-confirmation-popup>
<p-table #dt [rows]="10" [scrollable]="true" [rowHover]="true" dataKey="id" [globalFilterFields]="headers"
     styleClass="p-datatable-sm" [autoLayout]="true" scrollDirection="horizontal" [value]="dynamicData"
     [columns]="cols">
     <ng-template pTemplate="caption" *ngIf="showHeaderMenu">
          <div class="flex justify-content-between align-items-center">
               <span class="p-input-icon-left" *ngIf="showSearch">
                    <i class="pi pi-search"></i>
                    <input pInputText type="text" placeholder="Search by User Name, Lead No ..."
                         (input)="onInputChange($event)" />
               </span>
               <div class="flex-wrap">
                    <p-button styleClass="p-button-rounded mr-3 t-header-btn" *ngIf="showDelete">
                         <img src="../../assets/delete.svg" alt="circle-ci-image" class="text-sm ml-1">
                         <span class=" text-sm font-semibold font-family-inter ml-2">Delete</span>
                    </p-button>
                    <p-button styleClass="p-button-rounded mr-3 t-header-btn" *ngIf="showExport">
                         <img src="../../assets/export.svg" alt="circle-ci-image" class="text-sm">
                         <span class=" text-sm font-semibold font-family-inter ml-2">Export</span>
                         <i class="pi pi-chevron-down ml-2"></i>
                    </p-button>
               </div>
          </div>
     </ng-template>
     <ng-template pTemplate="header" let-columns>
          <tr class="custom-cell">
               <th *ngFor="let col of columns" [ngClass]="'tableheader'">
                    {{ col.header }}
                    <p-columnFilter type="text" [field]="col.field" display="menu"></p-columnFilter>
               </th>
          </tr>
     </ng-template>
     <ng-template pTemplate="body" let-rowData let-columns="columns" let-i="rowIndex" class="">
          <tr class="text-white text-xs custom-cell" [ngClass]="i % 2 == 0 ? 'even' : 'odd'"
               [ngStyle]="{ 'background-color': i % 2 == 0 ? '#302E38'  : '#3A3942'}">
               <td *ngFor="let col of columns" class="border-transparent">
                    <div *ngIf="col.field !== 'interest_level' && col.field !== 'action'"
                         [ngClass]="col.field === 'email' ? 'email-text-color':''">
                         {{rowData[col.field]}}
                    </div>
                    <div *ngIf=" col.field==='interest_level'" [ngClass]=" rowData[col.field]==='High' ? 'Success' : rowData[col.field]==='Medium'
                         ? 'Warning' : rowData[col.field]==='Low' ? 'Danger' : null">
                         {{rowData[col.field]}}
                    </div>
                    <ng-container *ngIf="col.field === 'action'">
                         <div
                              [ngClass]="rowData[col.field] === 'invited' ? 'Success' : rowData[col.field] === 'hold' ? 'Warning' : rowData[col.field] === 'reject' ? 'Danger' : null">
                              {{rowData[col.field]}}
                         </div>
                         <div class="flex" *ngIf="rowData[col.field] == null">
                              <xnode-action-button [Actions]="Actions" [Data]="rowData"
                                   (dataActionEvent)="handleDataAndAction($event)"
                                   class="flex flex-row flex-wrap"></xnode-action-button>
                         </div>
                    </ng-container>
               </td>
          </tr>
     </ng-template>
     <ng-template pTemplate="emptymessage">
          <tr>
               <td>No records found.</td>
          </tr>
     </ng-template>
</p-table>