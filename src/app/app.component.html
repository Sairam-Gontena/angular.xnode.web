<ng-container *ngIf="auth.userLoggedIn; else notLoggedIn">
    <xnode-bot *ngIf="isBotIconVisible" [botDisplayFlag]="isSideWindowOpen" (valueChange)="openNavi($event)"
        (click)="botOnClick()"></xnode-bot>
    <xnode-app-header></xnode-app-header>
    <div class="flex">
        <div [ngClass]="{ 'main-component-navi ': isSideWindowOpen, 'main-component': !isSideWindowOpen,'main-component-expand-navi': isNaviExpanded}"
            class="flex-column">
            <div class="flex">
                <div class="app-side-menu-wrapper" *ngIf="showSideMenu()">
                    <xnode-app-side-menu></xnode-app-side-menu>
                </div>
                <div [ngClass]="showSideMenu()  ? 'app-body-wrapper' : 'app-body-wrapper-full'" class="flex-1">
                    <router-outlet></router-outlet>
                </div>
            </div>
        </div>
        <div *ngIf="isSideWindowOpen" class="flex navi-frame"
            [ngClass]="{'navi-ful-frame':isNaviExpanded, 'navi-frame':!isNaviExpanded}">
            <div class="app-side-menu-wrapper" *ngIf="isNaviExpanded && showSideMenu()">
                <xnode-app-side-menu></xnode-app-side-menu>
            </div>
            <div
                [ngClass]="{'docked-navi-component':!isSideWindowOpen, 'docked-navi': isSideWindowOpen && !isNaviExpanded,'expand-docked-navi':isNaviExpanded }">
                <iframe id="myIframe" [src]="iframeUrl" allow="microphone" Cross-Origin-Opener-Policy="*"
                    class="w-full h-full pl-0 pr-0 ifram-navi">
                </iframe>
            </div>
        </div>
    </div>
</ng-container>
<ng-template #notLoggedIn>
    <router-outlet></router-outlet>
</ng-template>

<p-toast [breakpoints]="{'920px': {width: '100%', right: '0', left: '0'}}"></p-toast>
<ngx-spinner size="medium" type="ball-clip-rotate-multiple"></ngx-spinner>
<xnode-product-alert-popup *ngIf="showProductStatusPopup" (closePopup)="closePopup()" [contentdata]="content"
    (openDockedNavi)="openNavi($event)" [showProductStatusPopup]="showProductStatusPopup"></xnode-product-alert-popup>
<xnode-limit-reached-popup *ngIf="showLimitReachedPopup" [visible]="showLimitReachedPopup"
    (closePopup)="this.showLimitReachedPopup = false;"></xnode-limit-reached-popup>