<div class="w-full h-full" *ngIf="!loading">
    <div class="grid flex justify-content-between p-4 m-0 sm:p-4 md:p-4">
        <div class="col-12 sm:col-12 md:col-12 lg:col-6">
            <div class="flex flex-wrap text-4xl	font-normal mb-3">Hi, Good Morning!</div>
            <div class="mt-3">
                <p-button styleClass="mr-2 navi-btn" size="small" [rounded]="true">
                    <i class="pi pi-plus"></i>
                    <span class="text-sm ml-2 font-medium" (click)="onClickNewWithNavi()">New with Navi</span>
                </p-button>
                <p-button styleClass="import-btn ml-3" [rounded]="true" size="small" severity="secondary">
                    <img alt="bot-btn-icon" src="./assets/import.svg" />
                    <span class="text-sm ml-2 font-medium" (click)="importNavi()">Import</span>
                </p-button>
            </div>
        </div>
        <div class="col-12  sm:col-12 md:col-12 lg:col-6">
            <div class="flex p-input-icon-left">
                <i class="pi pi-search "></i>
                <input type="text" pInputText placeholder="Search" [(ngModel)]="searchText" (input)="search()"
                    class="border-round-3xl search-input lg:w-10 w-full" />
            </div>
            <div class="mt-3 flex justify-content-center lg:justify-content-start">
                <p-button class="mb-2 md:mr-2 align-items-center justify-content-center tabView-label" [text]="true"
                    [ngClass]="{'nonActive': activeIndex != 0}" label=" All Products" [link]="true"
                    (click)="activeIndex = 0;onClickAllProducts()">
                    <img src="./assets/all-products.svg" class="text-2xl" pTooltip="All Products"
                        [src]="tabAllProducts || activeIndex === 0 ? './assets/all-products-hover.svg' : './assets/all-products.svg'" />
                </p-button>
                <!-- <p-button
                    class="mb-2 md:mr-2 align-items-center justify-content-center text-base font-semibold tabView-label"
                    [text]="true" [ngClass]="{'nonActive': activeIndex != 1}" label=" Recently Viewed" [link]="true"
                    (click)="activeIndex = 1;filteredProducts =[]">
                    <img src="./assets/recent.svg" class="text-2xl" pTooltip="Recently Viewed"
                        [src]="tabRecent || activeIndex === 1  ? './assets/recent-hover.svg' : './assets/recent.svg'" />
                </p-button> -->
                <p-button
                    class="mb-2 md:mr-2 align-items-center justify-content-center text-base font-semibold tabView-label"
                    [text]="true" [ngClass]="{'nonActive': activeIndex != 1}" label=" My Products" [link]="true"
                    (click)="activeIndex = 1;onClickcreatedByYou()">
                    <img src="./assets/user.svg" class="text-2xl" pTooltip="My Products"
                        [src]="tabCreated || activeIndex === 1 ? './assets/user-hover.svg' : './assets/user.svg'" />
                </p-button>
            </div>
        </div>
    </div>
    <div class="overflow-auto my-products-scroll">
        <div class="grid m-0">
            <div class="col-12">
                <xnode-product-cards [filteredProducts]="filteredProducts" [end]="end"
                    (createNewWithNavi)="onClickNewWithNavi()" (onClickProductCard)="onClickProductCard($event)"
                    (openExternalLink)="openExternalLink($event)"></xnode-product-cards>
            </div>
            <div class="col-12 lg:col-12  flex justify-content-end flex-wrap" *ngIf="filteredProducts.length > 0">
                <p-button class="flex align-items-center justify-content-end" size="small" [text]="true"
                    *ngIf="isViewLess" icon="pi pi-arrow-right" label="View All" [link]="true" iconPos="right"
                    (click)="onViewAll()">
                </p-button>
                <p-button class="flex align-items-center justify-content-end" size="small" [text]="true"
                    *ngIf="!isViewLess" icon="pi pi-arrow-right" label="View Less" [link]="true" iconPos="right"
                    (click)="onViewLess()">
                </p-button>
            </div>
            <div class="col-12">
                <h3 class="text-2xl font-semibold">Recent Activity</h3>
                <div class="recentActivity p-0 ">
                    <app-content-grid [showSearch]="true"  [headers]="columnDef" [dataContent]="activities" 
                    ></app-content-grid>
                </div>
            </div>
        </div>
    </div>

</div>
<xnode-limit-reached-popup *ngIf="showLimitReachedPopup" [visible]="showLimitReachedPopup"
    (closePopup)="this.showLimitReachedPopup = false;"></xnode-limit-reached-popup>
<xnode-import-file-popup [visible]="showImportFilePopup"
    (closeEventEmitter)="closeEventEmitter()"></xnode-import-file-popup>
