<div class="lg:p-5 p-3 overflow-auto body-container">
    <div class="text-white txt-heading lg:mt-3 lg:ml-3 md:ml-3 md:mt-3 ml-2 mt-3">Hi, Good Morning!</div>
    <div class="flex sm:col-8 md:col-7 lg:col-4 p-input-icon-left mt-3 lg:mt-6">
        <i class="pi pi-search text-white sm:ml-3  md:ml-3"></i>
        <input type="text" pInputText placeholder="Search" [(ngModel)]="searchText" (input)="search()"
            class="text-white" />
    </div>
    <div class="col-12 flex flex-wrap row-gap-4 mt-2 md:mt-3  lg:mt-4">
        <p-button styleClass="p-button-rounded mr-4">
            <span class="ml-2 mr-2" (click)="onClickNewWithNavi()">New with NAVI Ai</span>
        </p-button>
        <p-button styleClass="p-button-secondary p-button-rounded mr-4">
            <img alt="bot-btn-icon" src="./assets/import.svg" />
            <span class="import-btn ml-2" (click)="importNavi()">Import</span>
        </p-button>
    </div>
    <p-tabView>
        <p-tabPanel>
            <ng-template pTemplate="header">
                <div class="flex  align-items-center justify-content-center" (mouseenter)="tabAllProducts = true"
                    (mouseleave)="tabAllProducts = false" (click)="activeIndex = 0">
                    <img src="./assets/all-products.svg" class="tab-view-img"
                        [src]="tabAllProducts || activeIndex === 0 ? './assets/all-products-hover.svg' : './assets/all-products.svg'" />
                    <p class="m-0 pl-2 tabview-header-txt">All Products</p>
                </div>
            </ng-template>
            <div class="col-12 pt-2">
                <div class="grid" *ngIf="filteredProducts">
                    <p-card class="col-6 md:col-4 lg:col-2 pointer" header="{{data.title}}" [title]="data.title"
                        *ngFor="let data of filteredProducts ; let i = index" [style]="{  height: '258px'}"
                        (click)="onClickCreateNewTemplate(data)">
                        <ng-template pTemplate="header">
                            <img alt="Card" src="./assets/d-card.svg" />
                            <div class="overlay-heart">
                                <i class="pi pi-heart-fill" style="font-size: 1.5rem"></i>
                            </div>
                            <div class="overlay">{{ i + 1 }}</div>
                            <i class="pi pi-external-link external-link-icon external-link-icon "
                                [title]="data.product_url" (click)="openExternalLink(data.product_url)"
                                *ngIf="data.product_url && data.product_url !== ''"></i>
                        </ng-template>
                        <div class="flex">
                            <img alt="dp" src="./assets/dp.svg" width="40" />
                            <div class="text-white ml-4">
                                <p class="m-0 font-bold heading-text">Created by you</p>
                                <p class="m-0 normal-text">Last viewed 3 minutes ago</p>
                                <p class="m-0 normal-text">created on: {{data.created_on
                                    |
                                    date:'medium'}}</p>
                            </div>
                        </div>
                    </p-card>
                    <p-card class="col-6 md:col-4 lg:col-2 justify-content-center align-items-center new-template"
                        [style]="{  height: '318px'}">
                        <i class="pi pi-plus text-white text-4xl pointer"
                            (click)="onClickgotoxPilot()"></i>
                    </p-card>
                    
                </div>
            </div>
        </p-tabPanel>
        <p-tabPanel>
            <ng-template pTemplate="header">
                <div class="flex align-items-center justify-content-center" (mouseenter)="tabRecent = true"
                    (mouseleave)="tabRecent = false" (click)="activeIndex = 1">
                    <img src="./assets/recent.svg" class="tab-view-img"
                        [src]="tabRecent || activeIndex === 1  ? './assets/recent-hover.svg' : './assets/recent.svg'" />
                    <p class="m-0 pl-2 tabview-header-txt">Recently Viewed</p>
                </div>
            </ng-template>
            <div class="col-12 flex justify-content-center text-xl mt-4 text-white font-font-medium">
                No Recently Viewed Products
            </div>
        </p-tabPanel>
        <p-tabPanel>
            <ng-template pTemplate="header">
                <div class="flex  align-items-center justify-content-center" (mouseenter)="tabCreated = true"
                    (mouseleave)="tabCreated = false" (click)="activeIndex = 2">
                    <img src="./assets/user.svg" class="tab-view-img"
                        [src]="tabCreated || activeIndex === 2 ? './assets/user-hover.svg' : './assets/user.svg'" />
                    <p class="m-0 pl-2 tabview-header-txt">Created by you</p>
                </div>
            </ng-template>
            <div class="grid p-2" *ngIf="filteredProductsByEmail">
                <p-card class="col-6 md:col-4 lg:col-2 pointer" header="{{data.title}}" [title]="data.title"
                    *ngFor="let data of filteredProductsByEmail ; let i = index" [style]="{  height: '328px'}"
                    (click)="onClickCreateNewTemplate(data)">
                    <ng-template pTemplate="header">
                        <img alt="Card" src="./assets/d-card.svg" />
                        <div class="overlay-heart">
                            <i class="pi pi-heart-fill" style="font-size: 1.5rem"></i>
                        </div>
                        <div class="overlay">{{ i + 1 }}</div>
                        <i class="pi pi-external-link external-link-icon external-link-icon " [title]="data.product_url"
                            (click)="openExternalLink(data.product_url)"
                            *ngIf="data.product_url && data.product_url !== ''"></i>
                    </ng-template>
                    <div class="flex">
                        <img alt="dp" src="./assets/dp.svg" width="40" />
                        <div class="text-white ml-4">
                            <p class="m-0 font-bold heading-text">Created by you</p>
                            <p class="m-0 normal-text">Last viewed 3 minutes ago</p>
                            <p class="m-0 normal-text">created on: {{data.created_on
                                |
                                date:'medium'}}</p>
                        </div>
                    </div>
                </p-card>
                <p-card class="col-6 md:col-4 lg:col-2 justify-content-center align-items-center card-body"
                    [style]="{  height: '328px'}">
                    <i class="pi pi-plus text-white text-4xl pointer align-items-center"
                        (click)="onClickgotoxPilot()"></i>
                </p-card>
            </div>
        </p-tabPanel>
    </p-tabView>
</div>
<xnode-limit-reached-popup *ngIf="showLimitReachedPopup" [visible]="showLimitReachedPopup"
    (closePopup)="this.showLimitReachedPopup = false;"></xnode-limit-reached-popup>