<div *ngFor="let content of content; let cIndex = index" class="mt-2">
  <div [ngClass]="
      !content?.collapsed
        ? 'sctions-grid relative'
        : 'sctions-grid-full relative'
    " id="{{ content?.id }}" #contentContainer>
    <div class="flex justify-content-between flex-wrap relative w-full">
      <div class="flex align-items-center justify-content-between w-full">
        <h3 class="m-0 pb-2 text-2xl font-bold" [innerHTML]="
            sectionIndex + 1 + '.' + (cIndex + 1) + ' ' + content.title
              | highlight : searchTerm
          "></h3>
        <div *ngIf="checkExpandSpecSections(content.title)">
          <span *ngIf="
              content.title == 'Annexures' ||
                content.title == 'User Interfaces' ||
                content.title == 'Functional Dependencies' ||
                content.title == 'Business Rules';
              else elseExpand
            ">
            <img src="./assets/spec-minimize.svg" alt="container" (click)="expandComponent.emit(content)"
              class="expnad-icon pointer" *ngIf="checked && selectedContent === sectionIndex" class="ml-3"
              style="width: 25px" />
          </span>
          <ng-template #elseExpand>
            <img src="./assets/spec-minimize.svg" alt="container" (click)="expandComponent.emit(content)"
              *ngIf="!readOnly" class="expnad-icon pointer" />
          </ng-template>
        </div>
      </div>
    </div>
    <p-button (click)="onClickSeeMore.emit({ item: specItem, content: content })" size="small" label="See More"
      *ngIf="!content?.collapsed && !readOnly" [rounded]="true" [outlined]="true"
      class="absolute bottom-0 right-0 mr-2 mb-2 z-5"></p-button>
    <p-button (click)="onClickSeeLess.emit({ item: specItem, content: content })" size="small" label="See Less"
      *ngIf="content?.collapsed && !readOnly" [rounded]="true" [outlined]="true"
      class="absolute bottom-0 right-0 mr-2 mb-2"></p-button>
    <div *ngIf="content.title === 'Usecases' || content.title === 'Use Cases'">
      <div class="grid" (mouseover)="usecaseshowCommentIcon = true" (mouseleave)="usecaseshowCommentIcon = false">
        <div class="col-12 text-right p-0">
          <p-overlayPanel #usecaseop (onHide)="
              usecasePanelOpened = false; usecaseshowCommentIcon = false
            ">
            <xnode-add-comment-overlay-panel [width]="'w-30rem'" [users]="usersList" *ngIf="usecasePanelOpened"
              (closeOverlay)="
                usecaseop.toggle(false); usecasePanelOpened = false
              " [position]="'absolute'" [selectedContent]="content" placeHolder="Add a Comment"
              [commentType]="'comment'" [parentEntity]="'SPEC'" [parentId]="specItem.id"
              [specItem]="specItem"></xnode-add-comment-overlay-panel>
          </p-overlayPanel>
          <img src="../assets/comment.svg" class="pointer comment-msg pt-2" alt="comment"
            (click)="usecaseop.toggle($event); usecasePanelOpened = true;saveSecInLocal();"
            (mouseleave)="usecaseshowCommentIcon = false" [ngClass]="
              usecaseshowCommentIcon || usecasePanelOpened
                ? 'opacity-100'
                : 'opacity-0'
            " />
          <i class="pi pi-eye relative pointer ml-2" style="color:#0991c6;top:-5px"
            *ngIf="usecaseshowCommentIcon || usecasePanelOpened" (click)="openCommentSection()"></i>
          <img src="../assets/add-task.svg" class="pointer ml-2 comment-msg pb-1"
            (click)="op1.toggle($event);usecasePanelOpened = true;saveSecInLocal();"
            (mouseleave)="usecaseshowCommentIcon = false" [ngClass]="
              usecaseshowCommentIcon || usecasePanelOpened
                ? 'opacity-100'
                : 'opacity-0'
            ">
          <p-overlayPanel #op1 appendTo="body" (onHide)="usecasePanelOpened = false; usecaseshowCommentIcon = false">
            <xnode-add-task *ngIf="usecasePanelOpened" (closeOverlay)="op1.toggle(false); usecasePanelOpened = false"
              [selectedContent]="content" [reveiwerList]="reveiwerList" [users]="usersList" placeHolder="Add a Task"
              [parentEntity]="'SPEC'" [parentId]="specItem.id" [specItem]="specItem"></xnode-add-task>
          </p-overlayPanel>
        </div>
        <div [ngClass]="{
            'common-spec-table-navi-menu':
              isSideMenuOpened && isDockedNaviOpened,
            'common-spec-table':
              !isSideMenuOpened &&
              !isDockedNaviOpened &&
              !isCommnetsPanelOpened,
            'common-spec-table-cr-menu':
              isCommnetsPanelOpened && isSideMenuOpened
          }" class="col-12">
          <xnode-common-usecases [searchTerm]="searchTerm" [users]="usersList" [specItem]="specItem"
            [useCases]="content.content"></xnode-common-usecases>
        </div>
      </div>
    </div>
    <div *ngIf="content.title === 'Dashboards'">
      <div class="flex justify-content-between align-items-center">
        <h1 class="my-1">Dashboard</h1>
        <img src="./assets/spec-minimize.svg" alt="container" (click)="expandComponent.emit(content)"
          class="expnad-icon pointer" class="ml-3" style="width: 25px" />
      </div>
      <div class="grid" (mouseover)="userinterfaceShowCommentIcon = true"
        (mouseleave)="userinterfaceShowCommentIcon = false">
        <div class="col-12 text-right p-0">
          <p-overlayPanel #useinterfaceop (onHide)="
              userinterfacePanelOpened = false;
              userinterfaceShowCommentIcon = false
            ">
            <xnode-add-comment-overlay-panel [width]="'w-30rem'" [users]="usersList" *ngIf="userinterfacePanelOpened"
              (closeOverlay)="
                useinterfaceop.toggle(false); userinterfacePanelOpened = false
              " [position]="'absolute'" [selectedContent]="content" placeHolder="Add a Comment"
              [commentType]="'comment'" [parentEntity]="'SPEC'" [parentId]="specItem.id"
              [specItem]="specItem"></xnode-add-comment-overlay-panel>
          </p-overlayPanel>
          <img src="../assets/comment.svg" class="pointer comment-msg pt-2" alt="comment" (click)="
              useinterfaceop.toggle($event); userinterfacePanelOpened = true;saveSecInLocal();
            " (mouseleave)="userinterfaceShowCommentIcon = false" [ngClass]="
            userinterfaceShowCommentIcon || userinterfacePanelOpened
              ? 'opacity-100'
              : 'opacity-0'
          " />
          <i class="pi pi-eye relative pointer ml-2" style="color:#0991c6;top:-5px" (click)="openCommentSection()"
            *ngIf="userinterfaceShowCommentIcon || userinterfacePanelOpened"></i>
          <img src="../assets/add-task.svg" class="pointer comment-msg pb-1 ml-2" style="color:#0991c6"
            (click)="op1.toggle($event);userinterfacePanelOpened = true;saveSecInLocal();"
            (mouseleave)="userinterfaceShowCommentIcon = false" [ngClass]="
            userinterfaceShowCommentIcon || userinterfacePanelOpened
                ? 'opacity-100'
                : 'opacity-0'
            ">
          <p-overlayPanel #op1 appendTo="body"
            (onHide)="userinterfacePanelOpened = false; userinterfaceShowCommentIcon = false">
            <xnode-add-task *ngIf="userinterfacePanelOpened"
              (closeOverlay)="op1.toggle(false); userinterfacePanelOpened = false" [selectedContent]="content"
              [users]="usersList" placeHolder="Add a Task" [parentEntity]="'SPEC'" [parentId]="specItem.id"
              [specItem]="specItem" [reveiwerList]="reveiwerList"></xnode-add-task>
          </p-overlayPanel>
        </div>
        <div class="col-12">
          <iframe id="myIframe" [src]="iframeSrc" class="h-vh w-full" title="Template Builder">
          </iframe>
        </div>
      </div>
    </div>
    <div *ngIf="content.title === 'Data Model'">
      <div class="grid" (mouseover)="dataManagementCommentIcon = true" (mouseleave)="dataManagementCommentIcon = false">
        <div class="col-12 text-right p-0">
          <p-overlayPanel #dataManagementop (onHide)="
              dataManagementPanelOpened = false;
              dataManagementCommentIcon = false
            ">
            <xnode-add-comment-overlay-panel [width]="'w-30rem'" [users]="usersList" *ngIf="dataManagementPanelOpened"
              (closeOverlay)="
                dataManagementop.toggle(false);
                dataManagementPanelOpened = false
              " [position]="'absolute'" [selectedContent]="content" placeHolder="Add a Comment"
              [commentType]="'comment'" [parentEntity]="'SPEC'" [parentId]="specItem.id"
              [specItem]="specItem"></xnode-add-comment-overlay-panel>
          </p-overlayPanel>
          <img src="../assets/comment.svg" class="pointer comment-msg pt-2" alt="comment" (click)="
              dataManagementop.toggle($event); dataManagementPanelOpened = true;saveSecInLocal();
            " (mouseleave)="dataManagementCommentIcon = false" [ngClass]="
              dataManagementCommentIcon || dataManagementPanelOpened
                ? 'opacity-100'
                : 'opacity-0'
            " />
          <i class="pi pi-eye pointer ml-2" style="color:#0991c6"
            *ngIf="dataManagementCommentIcon || dataManagementPanelOpened" (click)="openCommentSection()"></i>
          <img src="../assets/add-task.svg" class="pointer comment-msg pt-2 ml-2"
            (click)="op1.toggle($event);dataManagementPanelOpened = true;saveSecInLocal();"
            (mouseleave)="dataManagementCommentIcon = false" [ngClass]="
            dataManagementCommentIcon || dataManagementPanelOpened
                ? 'opacity-100'
                : 'opacity-0'
            ">
          <p-overlayPanel #op1 appendTo="body"
            (onHide)="dataManagementPanelOpened = false; dataManagementCommentIcon = false">
            <xnode-add-task *ngIf="dataManagementPanelOpened"
              (closeOverlay)="op1.toggle(false); dataManagementPanelOpened = false" [selectedContent]="content"
              [users]="usersList" placeHolder="Add a Task" [parentEntity]="'SPEC'" [parentId]="specItem.id"
              [specItem]="specItem" [reveiwerList]="reveiwerList"></xnode-add-task>
          </p-overlayPanel>
        </div>
        <div class="col-12" *ngIf="content">
          <xnode-data-model-common (dataFlowEmitter)="expandComponent.emit(content)" specData="spec"
            ></xnode-data-model-common>
        </div>
      </div>
    </div>
    <div *ngIf="content.title === 'Workflows'">
      <div class="grid" (mouseover)="workflowshowCommentIcon = true" (mouseleave)="workflowshowCommentIcon = false">
        <div class="col-12 text-right p-0">
          <p-overlayPanel #workflowsop (onHide)="
              workflowPanelOpened = false; workflowshowCommentIcon = false
            ">
            <xnode-add-comment-overlay-panel [width]="'w-30rem'" [users]="usersList" *ngIf="workflowPanelOpened"
              (closeOverlay)="
                workflowsop.toggle(false); workflowPanelOpened = false
              " [position]="'absolute'" [selectedContent]="content" placeHolder="Add a Comment"
              [commentType]="'comment'" [parentEntity]="'SPEC'" [parentId]="specItem.id"
              [specItem]="specItem"></xnode-add-comment-overlay-panel>
          </p-overlayPanel>
          <img src="../assets/comment.svg" class="pointer comment-msg pt-2" alt="comment"
            (click)="workflowsop.toggle($event); workflowPanelOpened = true;saveSecInLocal();"
            (mouseleave)="workflowshowCommentIcon = false" [ngClass]="
              workflowshowCommentIcon || workflowPanelOpened
                ? 'opacity-100'
                : 'opacity-0'
            " />
          <i class="pi pi-eye relative pointer ml-2" style="color:#0991c6;top:-5px"
            *ngIf="workflowshowCommentIcon || workflowPanelOpened" (click)="openCommentSection()"></i>
          <img src="../assets/add-task.svg" class="pointer comment-msg pb-1 ml-2"
            (click)="op1.toggle($event);workflowPanelOpened = true;saveSecInLocal();"
            (mouseleave)="workflowshowCommentIcon = false" [ngClass]="
            workflowshowCommentIcon || workflowPanelOpened
                ? 'opacity-100'
                : 'opacity-0'
            ">
          <p-overlayPanel #op1 appendTo="body" (onHide)="workflowPanelOpened = false; workflowshowCommentIcon = false">
            <xnode-add-task *ngIf="workflowPanelOpened" (closeOverlay)="op1.toggle(false); workflowPanelOpened = false"
              [selectedContent]="content" [users]="usersList" placeHolder="Add a Task" [parentEntity]="'SPEC'"
              [parentId]="specItem.id" [specItem]="specItem" [reveiwerList]="reveiwerList"></xnode-add-task>
          </p-overlayPanel>
        </div>
        <div class="col-12">
          <xnode-bpmn-common (dataFlowEmitter)="expandComponent.emit(content)" [bpmnFrom]="bpmnFrom"
            [item]="content"></xnode-bpmn-common>
        </div>
      </div>
    </div>
    <div *ngIf="content.title === 'Data Dictionary'">
      <div class="flex justify-content-end align-items-center my-2 mr-2" *ngIf="!readOnly">
        <i class="pi pi-code pointer mr-2" pTooltip="Json view" (click)="checkedToggle('json', specItem, content)"></i>
        <i class="pi pi-table pointer ml-2" pTooltip="Table view"
          (click)="checkedToggle('table', specItem, content)"></i>
      </div>
      <div class="grid" (mouseover)="dataDictionaryshowCommentIcon = true"
        (mouseleave)="dataDictionaryshowCommentIcon = false">
        <div class="col-12 flex justify-content-end align-items-center h-2rem">
          <img src="../assets/comment.svg" class="pointer" alt="comment" (click)="
            businessRulesop.toggle($event); dataDictionaryPanelOpened = true;saveSecInLocal();
          " (mouseleave)="dataDictionaryshowCommentIcon = false"
            *ngIf="dataDictionaryshowCommentIcon || dataDictionaryPanelOpened" />
          <i class="pi pi-eye pointer ml-2" style="color:#0991c6"
            *ngIf="dataDictionaryshowCommentIcon || dataDictionaryPanelOpened" (click)="openCommentSection()"></i>
          <p-overlayPanel #businessRulesop (onHide)="
          dataDictionaryPanelOpened = false;
              dataDictionaryshowCommentIcon = false
            ">
            <xnode-add-comment-overlay-panel [width]="'w-30rem'" [users]="usersList" *ngIf="dataDictionaryPanelOpened"
              (closeOverlay)="
                businessRulesop.toggle(false);
                dataDictionaryPanelOpened = false
              " [position]="'absolute'" [selectedContent]="content" placeHolder="Add a Comment"
              [commentType]="'comment'" [parentEntity]="'SPEC'" [parentId]="specItem.id"
              [specItem]="specItem"></xnode-add-comment-overlay-panel>
          </p-overlayPanel>
          <img src="../assets/add-task.svg" class="pointer ml-2" style="color:#0991c6"
            (click)="op1.toggle($event);dataDictionaryPanelOpened = true;saveSecInLocal();"
            (mouseleave)="dataDictionaryshowCommentIcon = false" [ngClass]="
            dataDictionaryshowCommentIcon || dataDictionaryPanelOpened
                ? 'opacity-100'
                : 'opacity-0'
            ">
          <p-overlayPanel #op1 appendTo="body"
            (onHide)="dataDictionaryPanelOpened = false; dataDictionaryshowCommentIcon = false">
            <xnode-add-task *ngIf="dataDictionaryPanelOpened"
              (closeOverlay)="op1.toggle(false); dataDictionaryPanelOpened = false" [selectedContent]="content"
              [users]="usersList" placeHolder="Add a Task" [parentEntity]="'SPEC'" [parentId]="specItem.id"
              [specItem]="specItem" [reveiwerList]="reveiwerList"></xnode-add-task>
          </p-overlayPanel>
        </div>
        <div class="col-12">
          <div *ngIf="content.showTable; else elsejson">
            <div class="spec-table">
              <xnode-common-spec-table [searchTerm]="searchTerm" [users]="usersList" [specItem]="specItem"
                [content]="content.content"></xnode-common-spec-table>
            </div>
          </div>
          <ng-template #elsejson>
            <div class="grid" (mouseover)="dataDictionaryshowCommentIcon = true"
              (mouseleave)="dataDictionaryshowCommentIcon = false">
              <div class="col-12">
                <pre [innerHTML]="content.content | json | highlight : searchTerm"
                  style="white-space: pre-wrap; overflow: auto"></pre>
              </div>
            </div>
          </ng-template>
        </div>
      </div>

    </div>
    <div *ngIf="content.title === 'Business Rules'">
      <div class="flex justify-content-end align-items-center my-2 mr-2" *ngIf="!readOnly">
        <i class="pi pi-code pointer mr-2" pTooltip="Json view" (click)="checkedToggle('json', specItem, content)"></i>
        <i class="pi pi-table pointer ml-2" pTooltip="Table view"
          (click)="checkedToggle('table', specItem, content)"></i>
      </div>
      <div class="grid" (mouseover)="businessRulesshowCommentIcon = true"
        (mouseleave)="businessRulesshowCommentIcon = false">
        <div class="col-12 flex justify-content-end align-items-center h-2rem">
          <img src="../assets/comment.svg" class="pointer" alt="comment" (click)="
            businessRulesop.toggle($event); businessRulesPanelOpened = true;saveSecInLocal();
          " (mouseleave)="businessRulesshowCommentIcon = false"
            *ngIf="businessRulesshowCommentIcon || businessRulesPanelOpened" />
          <i class="pi pi-eye pointer ml-2" style="color:#0991c6"
            *ngIf="businessRulesshowCommentIcon || businessRulesPanelOpened" (click)="openCommentSection()"></i>
          <p-overlayPanel #businessRulesop (onHide)="
              businessRulesPanelOpened = false;
              businessRulesshowCommentIcon = false
            ">
            <xnode-add-comment-overlay-panel [width]="'w-30rem'" [users]="usersList" *ngIf="businessRulesPanelOpened"
              (closeOverlay)="
                businessRulesop.toggle(false);
                businessRulesPanelOpened = false
              " [position]="'absolute'" [selectedContent]="content" placeHolder="Add a Comment"
              [commentType]="'comment'" [parentEntity]="'SPEC'" [parentId]="specItem.id"
              [specItem]="specItem"></xnode-add-comment-overlay-panel>
          </p-overlayPanel>

          <img src="../assets/add-task.svg" class="pointer ml-2" style="color:#0991c6"
            (click)="op1.toggle($event);businessRulesPanelOpened = true;saveSecInLocal();"
            (mouseleave)="businessRulesshowCommentIcon = false" [ngClass]="
            businessRulesshowCommentIcon || businessRulesPanelOpened
                ? 'opacity-100'
                : 'opacity-0'
            ">
          <p-overlayPanel #op1 appendTo="body"
            (onHide)="businessRulesPanelOpened = false; businessRulesshowCommentIcon = false">
            <xnode-add-task *ngIf="businessRulesPanelOpened"
              (closeOverlay)="op1.toggle(false); businessRulesPanelOpened = false" [selectedContent]="content"
              [users]="usersList" placeHolder="Add a Task" [parentEntity]="'SPEC'" [parentId]="specItem.id"
              [specItem]="specItem" [reveiwerList]="reveiwerList"></xnode-add-task>
          </p-overlayPanel>
        </div>
        <div class="col-12">
          <div *ngIf="content.showTable; else elsejson">
            <div class="spec-table">
              <xnode-common-spec-table [searchTerm]="searchTerm" [users]="usersList" [specItem]="specItem"
                [content]="content.content"></xnode-common-spec-table>
            </div>
          </div>
          <ng-template #elsejson>
            <div class="grid" (mouseover)="businessRulesshowCommentIcon = true"
              (mouseleave)="businessRulesshowCommentIcon = false">
              <div class="col-12">
                <pre [innerHTML]="content.content | json | highlight : searchTerm"
                  style="white-space: pre-wrap; overflow: auto"></pre>
              </div>
            </div>
          </ng-template>
        </div>
      </div>

    </div>

    <div *ngIf="content.title === 'Functional Dependencies'">
      <div class="flex justify-content-end align-items-center my-2 mr-2" *ngIf="!readOnly">
        <i class="pi pi-code pointer mr-2" pTooltip="Json view" (click)="checkedToggle('json', specItem, content)"></i>
        <i class="pi pi-table pointer ml-2" pTooltip="Table view"
          (click)="checkedToggle('table', specItem, content)"></i>
      </div>
      <div class="grid" (mouseover)="functionalDependenciesshowCommentIcon = true"
        (mouseleave)="functionalDependenciesshowCommentIcon = false">
        <div class="w-full flex justify-content-end align-items-center h-2rem  ">
          <img src="../assets/comment.svg" class="pointer" alt="comment" (click)="
          functionalDepedencyop.toggle($event); functionalDepedencyPanelOpened = true;saveSecInLocal();
          " (mouseleave)="functionalDependenciesshowCommentIcon = false"
            *ngIf="functionalDependenciesshowCommentIcon || functionalDepedencyPanelOpened" />
          <i class="pi pi-eye pointer ml-2" style="color:#0991c6"
            *ngIf="functionalDependenciesshowCommentIcon || functionalDepedencyPanelOpened"
            (click)="openCommentSection()"></i>
          <p-overlayPanel #functionalDepedencyop (onHide)="
          functionalDepedencyPanelOpened = false;
              functionalDependenciesshowCommentIcon = false
            ">
            <xnode-add-comment-overlay-panel [width]="'w-30rem'" [users]="usersList"
              *ngIf="functionalDepedencyPanelOpened" (closeOverlay)="
              functionalDepedencyop.toggle(false);
                functionalDepedencyPanelOpened = false
              " [position]="'absolute'" [selectedContent]="content" placeHolder="Add a Comment"
              [commentType]="'comment'" [parentEntity]="'SPEC'" [parentId]="specItem.id"
              [specItem]="specItem"></xnode-add-comment-overlay-panel>
          </p-overlayPanel>
          <img src="../assets/add-task.svg" class="pointer ml-2" (click)="
          op1.toggle($event); functionalDepedencyPanelOpened = true;saveSecInLocal();
          " (mouseleave)="functionalDependenciesshowCommentIcon = false"
            *ngIf="functionalDependenciesshowCommentIcon || functionalDepedencyPanelOpened">
          <p-overlayPanel #op1 appendTo="body" (onHide)="functionalDepedencyPanelOpened = false;
            functionalDependenciesshowCommentIcon = false">
            <xnode-add-task *ngIf="functionalDepedencyPanelOpened" (closeOverlay)="
            functionalDepedencyop.toggle(false);
              functionalDepedencyPanelOpened = false" [selectedContent]="content" [users]="usersList"
              placeHolder="Add a Task" [parentEntity]="'SPEC'" [parentId]="specItem.id" [specItem]="specItem"
              [reveiwerList]="reveiwerList"></xnode-add-task>
          </p-overlayPanel>
        </div>
        <div class="col-12">
          <div *ngIf="content.showTable; else elsejson">
            <div class="spec-table">
              <xnode-common-spec-table [searchTerm]="searchTerm" [users]="usersList" [specItem]="specItem"
                [content]="content.content"></xnode-common-spec-table>
            </div>
          </div>
          <ng-template #elsejson>
            <div class="grid" (mouseover)="functionalDependenciesshowCommentIcon = true"
              (mouseleave)="functionalDependenciesshowCommentIcon = false">
              <div class="col-12">
                <pre [innerHTML]="content.content | json | highlight : searchTerm"
                  style="white-space: pre-wrap; overflow: auto"></pre>
              </div>
            </div>
          </ng-template>
        </div>
      </div>

    </div>

    <div *ngIf="content.title === 'User Interfaces'">
      <div class="flex justify-content-end align-items-center my-2 mr-2" *ngIf="!readOnly">
        <i class="pi pi-code pointer mr-2" pTooltip="Json view" (click)="checkedToggle('json', specItem, content)"></i>
        <i class="pi pi-table pointer ml-2" pTooltip="Table view"
          (click)="checkedToggle('table', specItem, content)"></i>
      </div>
      <div class="grid" (mouseover)="userInterfaceshowCommentIcon = true"
        (mouseleave)="userInterfaceshowCommentIcon = false">
        <div class="h-2rem w-full justify-content-end align-items-center flex">
          <img src="../assets/comment.svg" class="pointer" alt="comment" (click)="
          functionalDepedencyop.toggle($event); userInterfacePanelOpened = true;saveSecInLocal();
          " (mouseleave)="userInterfaceshowCommentIcon = false"
            *ngIf="userInterfaceshowCommentIcon || userInterfacePanelOpened" />
          <i class="pi pi-eye pointer ml-2" style="color:#0991c6"
            *ngIf="userInterfaceshowCommentIcon || userInterfacePanelOpened" (click)="openCommentSection()"></i>
          <p-overlayPanel #functionalDepedencyop (onHide)="
          userInterfacePanelOpened = false;
          userInterfaceshowCommentIcon = false
            ">
            <xnode-add-comment-overlay-panel [width]="'w-30rem'" [users]="usersList" *ngIf="userInterfacePanelOpened"
              (closeOverlay)="
              functionalDepedencyop.toggle(false);
              userInterfacePanelOpened = false
              " [position]="'absolute'" [selectedContent]="content" placeHolder="Add a Comment"
              [commentType]="'comment'" [parentEntity]="'SPEC'" [parentId]="specItem.id"
              [specItem]="specItem"></xnode-add-comment-overlay-panel>
          </p-overlayPanel>
          <img src="../assets/add-task.svg" class="pointer ml-2" style="color:#0991c6"
            (click)="op1.toggle($event);userInterfacePanelOpened = true;saveSecInLocal();"
            (mouseleave)="userInterfaceshowCommentIcon = false" [ngClass]="
          userInterfaceshowCommentIcon || userInterfacePanelOpened
              ? 'opacity-100'
              : 'opacity-0'
          ">
          <p-overlayPanel #op1 appendTo="body"
            (onHide)="userInterfacePanelOpened = false; userInterfaceshowCommentIcon = false">
            <xnode-add-task *ngIf="userInterfacePanelOpened"
              (closeOverlay)="op1.toggle(false); userInterfacePanelOpened = false" [selectedContent]="content"
              [users]="usersList" placeHolder="Add a Task" [parentEntity]="'SPEC'" [parentId]="specItem.id"
              [specItem]="specItem" [reveiwerList]="reveiwerList"></xnode-add-task>
          </p-overlayPanel>
        </div>
        <div class="col-12">
          <div *ngIf="content.showTable; else elsejson">
            <div class="spec-table">
              <xnode-common-spec-table [searchTerm]="searchTerm" [users]="usersList" [specItem]="specItem"
                [content]="content.content"></xnode-common-spec-table>
            </div>
          </div>
          <ng-template #elsejson>
            <div class="grid" (mouseover)="userInterfaceshowCommentIcon = true"
              (mouseleave)="userInterfaceshowCommentIcon = false">
              <div class="col-12">
                <pre [innerHTML]="content.content | json | highlight : searchTerm"
                  style="white-space: pre-wrap; overflow: auto"></pre>
              </div>
            </div>
          </ng-template>
        </div>
      </div>

    </div>

    <div *ngIf="content.title === 'Annexures'">
      <div class="flex justify-content-end align-items-center my-2 mr-2" *ngIf="!readOnly">
        <i class="pi pi-code pointer mr-2" pTooltip="Json view" (click)="checkedToggle('json', specItem, content)"></i>
        <i class="pi pi-table pointer ml-2" pTooltip="Table view"
          (click)="checkedToggle('table', specItem, content)"></i>
      </div>
      <div class="grid" (mouseover)="AnnexureshowCommentIcon = true" (mouseleave)="AnnexureshowCommentIcon = false">
        <div class="h-2rem w-full justify-content-end align-items-center flex ">
          <img src="../assets/comment.svg" class="pointer" alt="comment" (click)="
          functionalDepedencyop.toggle($event); AnnexuresPanelOpened = true;saveSecInLocal();
          " (mouseleave)="AnnexureshowCommentIcon = false" *ngIf="AnnexureshowCommentIcon || AnnexuresPanelOpened" />
          <i class="pi pi-eye pointer ml-2" style="color:#0991c6"
            *ngIf="AnnexureshowCommentIcon || AnnexuresPanelOpened" (click)="openCommentSection()"></i>
          <p-overlayPanel #functionalDepedencyop (onHide)="
          AnnexuresPanelOpened = false;
          AnnexureshowCommentIcon = false
            ">
            <xnode-add-comment-overlay-panel [width]="'w-30rem'" [users]="usersList" *ngIf="AnnexuresPanelOpened"
              (closeOverlay)="
              functionalDepedencyop.toggle(false);
              AnnexuresPanelOpened = false
              " [position]="'absolute'" [selectedContent]="content" placeHolder="Add a Comment"
              [commentType]="'comment'" [parentEntity]="'SPEC'" [parentId]="specItem.id"
              [specItem]="specItem"></xnode-add-comment-overlay-panel>
          </p-overlayPanel>
          <img src="../assets/add-task.svg" class="pointer ml-2" style="color:#0991c6"
            (click)="op1.toggle($event);AnnexuresPanelOpened = true;saveSecInLocal();"
            (mouseleave)="AnnexureshowCommentIcon = false" [ngClass]="
          AnnexureshowCommentIcon || AnnexuresPanelOpened
              ? 'opacity-100'
              : 'opacity-0'
          ">
          <p-overlayPanel #op1 appendTo="body" (onHide)="AnnexuresPanelOpened = false; AnnexureshowCommentIcon = false">
            <xnode-add-task *ngIf="AnnexuresPanelOpened"
              (closeOverlay)="op1.toggle(false); AnnexuresPanelOpened = false" [selectedContent]="content"
              [users]="usersList" placeHolder="Add a Task" [parentEntity]="'SPEC'" [parentId]="specItem.id"
              [specItem]="specItem" [reveiwerList]="reveiwerList"></xnode-add-task>
          </p-overlayPanel>
        </div>
        <div class="col-12">
          <div *ngIf="content.showTable; else elsejson">
            <div class="spec-table">
              <xnode-common-spec-table [searchTerm]="searchTerm" [users]="usersList" [specItem]="specItem"
                [content]="content.content"></xnode-common-spec-table>
            </div>
          </div>
          <ng-template #elsejson>
            <div class="grid" (mouseover)="AnnexureshowCommentIcon = true"
              (mouseleave)="AnnexureshowCommentIcon = false">
              <div class="col-12">
                <pre [innerHTML]="content.content | json | highlight : searchTerm"
                  style="white-space: pre-wrap; overflow: auto"></pre>
              </div>
            </div>
          </ng-template>
        </div>
      </div>

    </div>
     
    <div *ngIf="content.title === 'Historical Data Load'" (mouseenter)="historicalDataPanelOpened = true"
      (mouseleave)="historicalDataPanelOpened = false">

      <div class="flex h-2rem justify-content-end align-items-center">
        <img src="../assets/comment.svg" class="pointer" alt="comment" (click)="
  historicalDataOp.toggle($event); historicalDataPanelOpened = true;saveSecInLocal();
  " (mouseleave)="historicalDatashowCommentIcon = false"
          *ngIf="historicalDatashowCommentIcon || historicalDataPanelOpened" />
        <i class="pi pi-eye pointer ml-2" style="color:#0991c6"
          *ngIf="historicalDatashowCommentIcon || historicalDataPanelOpened" (click)="openCommentSection()"></i>
        <p-overlayPanel #historicalDataOp (onHide)="
  historicalDataPanelOpened = false;
  historicalDatashowCommentIcon = false
    ">
          <xnode-add-comment-overlay-panel [width]="'w-30rem'" [users]="usersList" (closeOverlay)="
      historicalDataOp.toggle(false);
      historicalDataPanelOpened = false
      " [position]="'absolute'" [selectedContent]="content" placeHolder="Add a Comment" [commentType]="'comment'"
            [parentEntity]="'SPEC'" [parentId]="specItem.id" [specItem]="specItem"></xnode-add-comment-overlay-panel>
        </p-overlayPanel>
        <img src="../assets/add-task.svg" class="pointer ml-2" style="color:#0991c6" (click)="
        op1.toggle($event); historicalDataPanelOpened = true;saveSecInLocal();
        " (mouseleave)="historicalDatashowCommentIcon = false"
          *ngIf="historicalDatashowCommentIcon || historicalDataPanelOpened">
        <p-overlayPanel #op1 appendTo="body"
          (onHide)="historicalDataPanelOpened = false; historicalDatashowCommentIcon = false">
          <xnode-add-task (closeOverlay)="op1.toggle(false); historicalDataPanelOpened = false"
            [selectedContent]="content" [users]="usersList" placeHolder="Add a Task" [parentEntity]="'SPEC'"
            [parentId]="specItem.id" [specItem]="specItem" [reveiwerList]="reveiwerList"></xnode-add-task>
        </p-overlayPanel>
      </div>
      <div class="spec-table">
        <xnode-common-spec-table [searchTerm]="searchTerm" [users]="usersList" [specItem]="specItem"
          [content]="content.content"></xnode-common-spec-table>
      </div>
    </div>

    <div *ngIf="content.title === 'User Personas' && isArray(content.content)">
      <div class="grid" (mouseover)="userpersonaShowCommentIcon = true"
        (mouseleave)="userpersonaShowCommentIcon = false">
        <div class="col-12 text-right p-0">
          <p-overlayPanel #userpersonaop (onHide)="
              usepersonaPanelOpened = false; userpersonaShowCommentIcon = false
            ">
            <xnode-add-comment-overlay-panel [width]="'w-30rem'" [users]="usersList" *ngIf="usepersonaPanelOpened"
              (closeOverlay)="
                userpersonaop.toggle(false); usepersonaPanelOpened = false
              " [position]="'absolute'" [selectedContent]="content" placeHolder="Add a Comment"
              [commentType]="'comment'" [parentEntity]="'SPEC'" [parentId]="specItem.id"
              [specItem]="specItem"></xnode-add-comment-overlay-panel>
          </p-overlayPanel>
          <img src="../assets/comment.svg" class="pointer" alt="comment"
            (click)="userpersonaop.toggle($event); usepersonaPanelOpened = true;saveSecInLocal()"
            (mouseleave)="userpersonaShowCommentIcon = false" [ngClass]="
              userpersonaShowCommentIcon || usepersonaPanelOpened
                ? 'opacity-100'
                : 'opacity-0'
            " />
          <i class="pi pi-eye relative pointer ml-2" style="color:#0991c6;top:-5px"
            *ngIf="userpersonaShowCommentIcon || usepersonaPanelOpened" (click)="openCommentSection()"></i>

          <img src="../assets/add-task.svg" class="pointer ml-2 pb-1" style="color:#0991c6"
            (click)="op1.toggle($event);usepersonaPanelOpened = true;saveSecInLocal();"
            (mouseleave)="userpersonaShowCommentIcon = false" [ngClass]="
            userpersonaShowCommentIcon || usepersonaPanelOpened
                  ? 'opacity-100'
                  : 'opacity-0'
              ">
          <p-overlayPanel #op1 appendTo="body"
            (onHide)="usepersonaPanelOpened = false; userpersonaShowCommentIcon = false">
            <xnode-add-task *ngIf="usepersonaPanelOpened"
              (closeOverlay)="op1.toggle(false); usepersonaPanelOpened = false" [selectedContent]="content"
              [users]="usersList" placeHolder="Add a Task" [parentEntity]="'SPEC'" [parentId]="specItem.id"
              [specItem]="specItem" [reveiwerList]="reveiwerList"></xnode-add-task>
          </p-overlayPanel>
        </div>
        <div class="col-12">
          <div *ngFor="let persona of content.content" class="pb-3">
            <xnode-user-persona [searchTerm]="searchTerm" [content]="persona"></xnode-user-persona>
          </div>
        </div>
      </div>
    </div>
    <div (mouseenter)="glossaryshowCommentIcon = true" (mouseleave)="glossaryshowCommentIcon = false"
      *ngIf="content.title === 'Glossary'">

      <div class="flex w-full justify-content-end align-items-center h-2rem ">
        <img src="../assets/comment.svg" class="pointer" alt="comment" (click)="
        glossaryOp.toggle($event); glossaryPanelOpened = true;saveSecInLocal();
        " *ngIf="glossaryshowCommentIcon || glossaryPanelOpened" />
        <i class="pi pi-eye pointer ml-2" style="color:#0991c6"
          *ngIf="glossaryshowCommentIcon || glossaryshowCommentIcon" (click)="openCommentSection()"></i>
        <p-overlayPanel #glossaryOp (onHide)="
        glossaryPanelOpened = false;
        glossaryshowCommentIcon = false
          ">
          <xnode-add-comment-overlay-panel [width]="'w-30rem'" [users]="usersList" *ngIf="glossaryPanelOpened"
            (closeOverlay)="
            glossaryOp.toggle(false);
            glossaryPanelOpened = false
            " [position]="'absolute'" [selectedContent]="content" placeHolder="Add a Comment" [commentType]="'comment'"
            [parentEntity]="'SPEC'" [parentId]="specItem.id" [specItem]="specItem"></xnode-add-comment-overlay-panel>
        </p-overlayPanel>
        <img src="../assets/add-task.svg" class="pointer ml-2" style="color:#0991c6"
          (click)="op1.toggle($event);glossaryPanelOpened = true;saveSecInLocal();"
          (mouseleave)="glossaryshowCommentIcon = false" [ngClass]="
        glossaryshowCommentIcon || glossaryPanelOpened
              ? 'opacity-100'
              : 'opacity-0'
          ">
        <p-overlayPanel #op1 appendTo="body" (onHide)="glossaryPanelOpened = false; glossaryshowCommentIcon = false">
          <xnode-add-task *ngIf="glossaryPanelOpened" (closeOverlay)="op1.toggle(false); glossaryPanelOpened = false"
            [selectedContent]="content" [users]="usersList" placeHolder="Add a Task" [parentEntity]="'SPEC'"
            [parentId]="specItem.id" [specItem]="specItem" [reveiwerList]="reveiwerList"></xnode-add-task>
        </p-overlayPanel>
      </div>
      <div class="spec-table">
        <xnode-common-spec-table [searchTerm]="searchTerm" [content]="content.content" [users]="usersList"
          [specItem]="specItem"></xnode-common-spec-table>
      </div>
    </div>
    <div *ngIf="content.title === 'Version Control'" (mouseenter)="versionControlshowCommentIcon = true"
      (mouseleave)="versionControlshowCommentIcon = false">
      <div class="flex w-full justify-content-end align-items-center h-2rem ">
        <img src="../assets/comment.svg" class="pointer" alt="comment" (click)="
    versionControlOp.toggle($event); versionControlPanelOpened = true;saveSecInLocal();
    " *ngIf="versionControlshowCommentIcon || versionControlPanelOpened" />
        <i class="pi pi-eye pointer ml-2" style="color:#0991c6"
          *ngIf="versionControlshowCommentIcon || versionControlPanelOpened" (click)="openCommentSection()"></i>
        <p-overlayPanel #versionControlOp (onHide)="
    versionControlPanelOpened = false;
    versionControlshowCommentIcon = false
      ">
          <xnode-add-comment-overlay-panel [width]="'w-30rem'" [users]="usersList" *ngIf="versionControlPanelOpened"
            (closeOverlay)="
        versionControlOp.toggle(false);
        versionControlPanelOpened = false
        " [position]="'absolute'" [selectedContent]="content" placeHolder="Add a Comment" [commentType]="'comment'"
            [parentEntity]="'SPEC'" [parentId]="specItem.id" [specItem]="specItem"></xnode-add-comment-overlay-panel>
        </p-overlayPanel>
        <img src="../assets/add-task.svg" class="pointer ml-2" style="color:#0991c6"
          (click)="op1.toggle($event);versionControlPanelOpened = true;saveSecInLocal();"
          (mouseleave)="versionControlshowCommentIcon = false" [ngClass]="
          versionControlshowCommentIcon || versionControlPanelOpened
                  ? 'opacity-100'
                  : 'opacity-0'
              ">
        <p-overlayPanel #op1 appendTo="body"
          (onHide)="versionControlPanelOpened = false; versionControlshowCommentIcon = false">
          <xnode-add-task *ngIf="versionControlPanelOpened"
            (closeOverlay)="op1.toggle(false); versionControlPanelOpened = false" [selectedContent]="content"
            [users]="usersList" placeHolder="Add a Task" [parentEntity]="'SPEC'" [parentId]="specItem.id"
            [specItem]="specItem" [reveiwerList]="reveiwerList"></xnode-add-task>
        </p-overlayPanel>
      </div>
      <div class="spec-table">
        <xnode-common-spec-table [searchTerm]="searchTerm" [content]="content.content" [users]="usersList"
          [specItem]="specItem"></xnode-common-spec-table>
      </div>
    </div>
    <div *ngIf="content.title === 'Stakeholder Approvals'">

      <div (mouseenter)="stakeHoldershowCommentIcon = true" (mouseleave)="stakeHoldershowCommentIcon = false">
        <div class="w-full flex justify-content-end align-items-center h-2rem  ">
          <img src="../assets/comment.svg" class="pointer" alt="comment" (click)="
        stakeholderOp.toggle($event); stakeHolderPanelOpened = true;saveSecInLocal();
        " *ngIf="stakeHoldershowCommentIcon || stakeHolderPanelOpened" />
          <i class="pi pi-eye pointer ml-2" style="color:#0991c6"
            *ngIf="stakeHoldershowCommentIcon || stakeHolderPanelOpened" (click)="openCommentSection()"></i>
          <p-overlayPanel #stakeholderOp (onHide)="
        stakeHolderPanelOpened = false;
        stakeHoldershowCommentIcon = false
          ">
            <xnode-add-comment-overlay-panel [width]="'w-30rem'" [users]="usersList" *ngIf="stakeHolderPanelOpened"
              (closeOverlay)="
            stakeholderOp.toggle(false);
            stakeHolderPanelOpened = false
            " [position]="'absolute'" [selectedContent]="content" placeHolder="Add a Comment" [commentType]="'comment'"
              [parentEntity]="'SPEC'" [parentId]="specItem.id" [specItem]="specItem"></xnode-add-comment-overlay-panel>
          </p-overlayPanel>
          <img src="../assets/add-task.svg" class="pointer ml-2" style="color:#0991c6"
            (click)="op1.toggle($event);stakeHolderPanelOpened = true;saveSecInLocal();"
            (mouseleave)="stakeHoldershowCommentIcon = false" [ngClass]="
          stakeHoldershowCommentIcon || stakeHolderPanelOpened
                  ? 'opacity-100'
                  : 'opacity-0'
              ">
          <p-overlayPanel #op1 appendTo="body"
            (onHide)="stakeHolderPanelOpened = false; stakeHoldershowCommentIcon = false">
            <xnode-add-task *ngIf="stakeHolderPanelOpened"
              (closeOverlay)="op1.toggle(false); stakeHolderPanelOpened = false" [selectedContent]="content"
              [users]="usersList" placeHolder="Add a Task" [parentEntity]="'SPEC'" [parentId]="specItem.id"
              [specItem]="specItem" [reveiwerList]="reveiwerList"></xnode-add-task>
          </p-overlayPanel>
        </div>
        <div class="spec-table">
          <xnode-common-spec-table [searchTerm]="searchTerm" [users]="usersList" [specItem]="specItem"
            [content]="content.content"></xnode-common-spec-table>
        </div>
      </div>
    </div>
    <div *ngIf="content.title === 'Data Quality Checks'">
      <div class="grid" (mouseenter)="dataQualityshowCommentIcon = true"
        (mouseleave)="dataQualityshowCommentIcon = false">
        <div class="h-2rem flex justify-content-end align-items-center w-full">
          <img src="../assets/comment.svg" class="pointer" alt="comment" (click)="
            dataQualityOp.toggle($event); dataQualityPanelOpened = true;saveSecInLocal();
            " *ngIf="dataQualityshowCommentIcon || dataQualityPanelOpened" />
          <i class="pi pi-eye pointer ml-2" style="color:#0991c6"
            *ngIf="dataQualityshowCommentIcon || dataQualityPanelOpened" (click)="openCommentSection()"></i>
          <p-overlayPanel #dataQualityOp (onHide)="
            dataQualityPanelOpened = false;
            dataQualityshowCommentIcon = false
              ">
            <xnode-add-comment-overlay-panel [width]="'w-30rem'" [users]="usersList" *ngIf="dataQualityPanelOpened"
              (closeOverlay)="
                dataQualityOp.toggle(false);
                dataQualityPanelOpened = false
                " [position]="'absolute'" [selectedContent]="content" placeHolder="Add a Comment"
              [commentType]="'comment'" [parentEntity]="'SPEC'" [parentId]="specItem.id"
              [specItem]="specItem"></xnode-add-comment-overlay-panel>
          </p-overlayPanel>
          <img src="../assets/add-task.svg" class="pointer ml-2" style="color:#0991c6"
            (click)="op1.toggle($event);dataQualityPanelOpened = true;saveSecInLocal();"
            (mouseleave)="dataQualityshowCommentIcon = false" [ngClass]="
      dataQualityshowCommentIcon || dataQualityPanelOpened
              ? 'opacity-100'
              : 'opacity-0'
          ">
          <p-overlayPanel #op1 appendTo="body"
            (onHide)="dataQualityPanelOpened = false; dataQualityshowCommentIcon = false">
            <xnode-add-task *ngIf="dataQualityPanelOpened"
              (closeOverlay)="op1.toggle(false); dataQualityPanelOpened = false" [selectedContent]="content"
              [users]="usersList" placeHolder="Add a Task" [parentEntity]="'SPEC'" [parentId]="specItem.id"
              [specItem]="specItem" [reveiwerList]="reveiwerList"></xnode-add-task>
          </p-overlayPanel>
        </div>
        <div class="spec-table">
          <xnode-common-spec-table [searchTerm]="searchTerm" [users]="usersList" [specItem]="specItem"
            [content]="content.content[0].content"></xnode-common-spec-table>
        </div>
      </div>
    </div>

    <div *ngIf="content.title === 'Quality Assurance'">
      <div *ngFor="let item of content.content">
        <div class="mt-2">
          <div (mouseenter)="testCaseshowCommentIcon = true" (mouseleave)="testCaseshowCommentIcon = false">
            <div class="flex justify-content-between align-items-center col-12">
              <h3>
                {{item.title}}
              </h3>
              <div class="flex justify-content-end align-items-center">
                <img src="../assets/comment.svg" class="pointer" alt="comment" (click)="
                testCaseOp.toggle($event); testCasePanelOpened = true;saveSecInLocal();
                " *ngIf="testCaseshowCommentIcon || testCasePanelOpened" />
                <i class="pi pi-eye pointer ml-2" style="color:#0991c6"
                  *ngIf="testCaseshowCommentIcon || testCasePanelOpened" (click)="openCommentSection()"></i>
                <img src="../assets/add-task.svg" class="pointer ml-2" style="color:#0991c6"
                  (click)="op1.toggle($event);testCasePanelOpened = true;saveSecInLocal();"
                  (mouseleave)="testCaseshowCommentIcon = false" [ngClass]="
                testCaseshowCommentIcon || testCasePanelOpened
                      ? 'opacity-100'
                      : 'opacity-0'
                  ">
              </div>
              <p-overlayPanel #testCaseOp (onHide)="
              testCasePanelOpened = false;
              testCaseshowCommentIcon = false
                ">
                <xnode-add-comment-overlay-panel [width]="'w-30rem'" [users]="usersList" *ngIf="testCasePanelOpened"
                  (closeOverlay)="
                  testCaseOp.toggle(false);
                  testCasePanelOpened = false
                  " [position]="'absolute'" [selectedContent]="content" placeHolder="Add a Comment"
                  [commentType]="'comment'" [parentEntity]="'SPEC'" [parentId]="specItem.id"
                  [specItem]="specItem"></xnode-add-comment-overlay-panel>
              </p-overlayPanel>

              <p-overlayPanel #op1 appendTo="body"
                (onHide)="testCasePanelOpened = false; testCaseshowCommentIcon = false">
                <xnode-add-task *ngIf="testCasePanelOpened"
                  (closeOverlay)="op1.toggle(false); testCasePanelOpened = false" [selectedContent]="content"
                  [users]="usersList" placeHolder="Add a Task" [parentEntity]="'SPEC'" [parentId]="specItem.id"
                  [specItem]="specItem" [reveiwerList]="reveiwerList"></xnode-add-task>
              </p-overlayPanel>
            </div>
            <div class="spec-table">
              <xnode-common-spec-table [searchTerm]="searchTerm" [users]="usersList" [specItem]="specItem"
                [content]="item.content"></xnode-common-spec-table>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="content.title === 'QA Test Cases' && isArray(content.content)">
      <div class="grid" (mouseover)="qashowCommentIcon = true" (mouseleave)="qashowCommentIcon = false">
        <div class="col-12 text-right p-0">
          <p-overlayPanel #qaop (onHide)="qaPanelOpened = false; qashowCommentIcon = false">
            <xnode-add-comment-overlay-panel [width]="'w-30rem'" [users]="usersList" *ngIf="qaPanelOpened"
              (closeOverlay)="qaop.toggle(false); qaPanelOpened = false" [position]="'absolute'"
              [selectedContent]="content" placeHolder="Add a Comment" [commentType]="'comment'" [parentEntity]="'SPEC'"
              [parentId]="specItem.id" [specItem]="specItem"></xnode-add-comment-overlay-panel>
          </p-overlayPanel>
          <img src="../assets/comment.svg" class="pointer" alt="comment"
            (click)="qaop.toggle($event); qaPanelOpened = true;saveSecInLocal();"
            (mouseleave)="qashowCommentIcon = false" [ngClass]="
              qashowCommentIcon || qaPanelOpened ? 'opacity-100' : 'opacity-0'
            " />
          <i class="pi pi-eye pointer ml-2" style="color:#0991c6" *ngIf=" qashowCommentIcon || qaPanelOpened"
            (click)="openCommentSection()"></i>
          <img src="../assets/add-task.svg" class="pointer ml-2" style="color:#0991c6"
            (click)="op1.toggle($event);qaPanelOpened = true;saveSecInLocal();" (mouseleave)="qashowCommentIcon = false"
            [ngClass]="
            qashowCommentIcon || qaPanelOpened
                ? 'opacity-100'
                : 'opacity-0'
            ">
          <p-overlayPanel #op1 appendTo="body" (onHide)="qaPanelOpened = false; qashowCommentIcon = false">
            <xnode-add-task *ngIf="qaPanelOpened" (closeOverlay)="op1.toggle(false); qaPanelOpened = false"
              [selectedContent]="content" [users]="usersList" placeHolder="Add a Task" [parentEntity]="'SPEC'"
              [parentId]="specItem.id" [specItem]="specItem" [reveiwerList]="reveiwerList"></xnode-add-task>
          </p-overlayPanel>
        </div>
        <div class="col-12">
          <div *ngFor="let subItem of content.content; let subIndex = index">
            <div *ngIf="
                subItem.title !== 'Sample Test Cases';
                else sampleTestCases
              ">
              <p class="m-0 pb-2">
                <span>
                  <div class="flex col-12 p-0" (mouseover)="
                      showCommentIcon = true;
                      seletedMainIndex = cIndex;
                      selecteedSubIndex = subIndex
                    " (mouseleave)="showCommentIcon = false">
                    <div class="col-11 p-0">
                      <span class="sub-title text-base font-medium"
                        [innerHTML]="subItem.title | highlight : searchTerm">
                      </span>
                      :
                      <span class="sub-content font-normal text-base"
                        [innerHTML]="subItem.content | highlight : searchTerm"></span>
                    </div>
                    <div class="col-1 p-0 flex align-items-start justify-content-center">
                      <p-overlayPanel #op (onHide)="commentOverlayPanelOpened = false">
                        <xnode-add-comment-overlay-panel [width]="'w-30rem'" [users]="usersList" [parentEntity]="'SPEC'"
                          [parentId]="specItem.id" *ngIf="commentOverlayPanelOpened" (closeOverlay)="op.toggle(false)"
                          [position]="'absolute'" [selectedContent]="selectedContent" [commentType]="'comment'"
                          placeHolder="Add a Comment" [specItem]="specItem"></xnode-add-comment-overlay-panel>
                      </p-overlayPanel>
                      <img src="../assets/comment.svg" class="pointer" alt="comment" (click)="
                          op.toggle($event); commentOverlayPanelOpened = true;saveSecInLocal();
                        " *ngIf="
                          (showCommentIcon || commentOverlayPanelOpened) &&
                          seletedMainIndex &&
                          selecteedSubIndex
                        " />
                      <i class="pi pi-eye pointer ml-2" style="color:#0991c6" *ngIf="(showCommentIcon || commentOverlayPanelOpened) &&
                         seletedMainIndex &&
                         selecteedSubIndex" (click)="openCommentSection()"></i>
                      <img src="../assets/add-task.svg" class="pointer ml-2" (click)="
                         op1.toggle($event); commentOverlayPanelOpened = true;saveSecInLocal();
                       " *ngIf="
                         (showCommentIcon || commentOverlayPanelOpened) &&
                         seletedMainIndex &&
                         selecteedSubIndex
                       ">
                      <p-overlayPanel #op1 appendTo="body" (onHide)="commentOverlayPanelOpened = false">
                        <xnode-add-task *ngIf="commentOverlayPanelOpened" (closeOverlay)="op1.toggle(false)"
                          [selectedContent]="content" [users]="usersList" placeHolder="Add a Task"
                          [parentEntity]="'SPEC'" [parentId]="specItem.id" [specItem]="specItem"
                          [reveiwerList]="reveiwerList"></xnode-add-task>
                      </p-overlayPanel>
                    </div>
                  </div>
                </span>
              </p>
            </div>
            <ng-template #sampleTestCases>
              <div *ngIf="isArray(subItem.content)">
                <h4 class="mb-2" [innerHTML]="subItem.title | highlight : searchTerm"></h4>
                <div *ngFor="
                    let testCase of subItem.content;
                    let lastItem = last;
                    let subIndex = index
                  ">
                  <p *ngFor="
                      let key of getTestCaseKeys(testCase);
                      let subSubIndex = index
                    " class="m-0 pb-2">
                    <span>
                      <div class="col-12 p-0 flex" (mouseover)="
                          showCommentIcon = true;
                          seletedMainIndex = cIndex;
                          selecteedSubIndex = subIndex;
                          selecteedSubSubIndex = subSubIndex
                        " (mouseleave)="showCommentIcon = false">
                        <div class="col-11 p-0">
                          <span class="sub-title text-base font-medium"
                            [innerHTML]="key | highlight : searchTerm"></span>
                          :
                          <span class="sub-content font-normal text-base"
                            [innerHTML]="testCase[key] | highlight : searchTerm"></span>
                        </div>
                        <div class="col-1 p-0 flex align-items-start justify-content-center">
                          <p-overlayPanel #op (onHide)="commentOverlayPanelOpened = false">
                            <xnode-add-comment-overlay-panel [width]="'w-30rem'" [users]="usersList"
                              [parentEntity]="'SPEC'" [parentId]="specItem.id" *ngIf="commentOverlayPanelOpened"
                              (closeOverlay)="op.toggle(false)" [selectedContent]="selectedContent"
                              [commentType]="'comment'" placeHolder="Add a Comment"
                              [specItem]="specItem"></xnode-add-comment-overlay-panel>
                          </p-overlayPanel>
                          <img src="../assets/comment.svg" class="pointer" alt="comment" (click)="
                              op.toggle($event);
                              commentOverlayPanelOpened = true;saveSecInLocal();
                            " *ngIf="
                              (showCommentIcon || commentOverlayPanelOpened) &&
                              seletedMainIndex == cIndex &&
                              selecteedSubIndex == subIndex &&
                              selecteedSubSubIndex == subSubIndex
                            " />
                          <i class="pi pi-eye pointer ml-2" style="color:#0991c6" *ngIf="(showCommentIcon || commentOverlayPanelOpened) &&
                            seletedMainIndex == cIndex &&
                            selecteedSubIndex == subIndex &&
                            selecteedSubSubIndex == subSubIndex" (click)="openCommentSection()"></i>
                          <img src="../assets/add-task.svg" class="pointer ml-2" (click)="
                            op.toggle($event);
                            commentOverlayPanelOpened = true;saveSecInLocal();
                          " *ngIf="
                            (showCommentIcon || commentOverlayPanelOpened) &&
                            seletedMainIndex == cIndex &&
                            selecteedSubIndex == subIndex &&
                            selecteedSubSubIndex == subSubIndex
                          ">
                          <p-overlayPanel #op1 appendTo="body" (onHide)="commentOverlayPanelOpened = false">
                            <xnode-add-task *ngIf="commentOverlayPanelOpened" (closeOverlay)="op1.toggle(false)"
                              [selectedContent]="content" [users]="usersList" placeHolder="Add a Task"
                              [parentEntity]="'SPEC'" [parentId]="specItem.id" [specItem]="specItem"
                              [reveiwerList]="reveiwerList"></xnode-add-task>
                          </p-overlayPanel>
                        </div>
                      </div>
                    </span>
                  </p>
                  <ng-container *ngIf="!lastItem">
                    <hr class="mt-2 mb-2" />
                  </ng-container>
                </div>
              </div>
            </ng-template>
          </div>
        </div>
      </div>
    </div>
    <div [ngClass]="{
        'common-spec-table-navi-menu': isSideMenuOpened && isDockedNaviOpened,
        'common-spec-table':
          !isSideMenuOpened && !isDockedNaviOpened && !isCommnetsPanelOpened,
        'common-spec-table-cr-menu': isCommnetsPanelOpened && isSideMenuOpened
      }" *ngIf="content.title === 'OpenAPI Spec'">
      <div class="flex col-12 justify-content-between align-items-center">
        <h4 class="m-0">Swagger API</h4>
      </div>
      <div class="grid" (mouseover)="openAPIShowCommentIcon = true" (mouseleave)="openAPIShowCommentIcon = false">
        <div class="col-12 text-right p-0">
          <p-overlayPanel #openAPIop (onHide)="
              openAPIPanelOpened = false; openAPIShowCommentIcon = false
            ">
            <xnode-add-comment-overlay-panel [width]="'w-30rem'" [users]="usersList" *ngIf="openAPIPanelOpened"
              (closeOverlay)="
                openAPIop.toggle(false); openAPIPanelOpened = false
              " [position]="'absolute'" [selectedContent]="content" placeHolder="Add a Comment"
              [commentType]="'comment'" [parentEntity]="'SPEC'" [parentId]="specItem.id"
              [specItem]="specItem"></xnode-add-comment-overlay-panel>
          </p-overlayPanel>
          <img src="../assets/comment.svg" class="pointer" alt="comment"
            (click)="openAPIop.toggle($event); openAPIPanelOpened = true;saveSecInLocal();"
            (mouseleave)="openAPIShowCommentIcon = false" [ngClass]="
              openAPIShowCommentIcon || openAPIPanelOpened
                ? 'opacity-100'
                : 'opacity-0'
            " />
          <i class="pi pi-eye pointer ml-2" style="color:#0991c6" *ngIf="openAPIShowCommentIcon || openAPIPanelOpened"
            (click)="openCommentSection()"></i>
          <img src="../assets/add-task.svg" class="pointer ml-2"
            (click)="op1.toggle($event); openAPIPanelOpened = true;saveSecInLocal();"
            (mouseleave)="openAPIShowCommentIcon = false" [ngClass]="
          openAPIShowCommentIcon || openAPIPanelOpened
            ? 'opacity-100'
            : 'opacity-0'
        ">
          <p-overlayPanel #op1 appendTo="body" (onHide)=" openAPIPanelOpened = false; openAPIShowCommentIcon = false">
            <xnode-add-task *ngIf="openAPIPanelOpened" (closeOverlay)="
          openAPIop.toggle(false); openAPIPanelOpened = false" [selectedContent]="content" [users]="usersList"
              placeHolder="Add a Task" [parentEntity]="'SPEC'" [parentId]="specItem.id" [specItem]="specItem"
              [reveiwerList]="reveiwerList"></xnode-add-task>
          </p-overlayPanel>
        </div>
        <div class="col-12">
          <div id="openapi-ui-spec" class="openapi-spec mt-2"></div>
        </div>
      </div>
    </div>
    <div *ngIf="content.title === 'User Roles'">
      <xnode-user-roles [id]="content.id" [specId]="sectionIndex + 1 + '.' + (cIndex + 1)" [searchTerm]="searchTerm"
        [content]="content.content" [users]="usersList" [selectedContent]="selectedContent"
        [parentTitle]="content.title" [specItem]="specItem" [reveiwerList]="reveiwerList"></xnode-user-roles>
    </div>

    <div class="w-full" *ngIf="checkListViewSections(content.title)" [id]="content.id">
      <xnode-list-view [content]="content.content" [parentTitle]="content.title" [selectedContent]="selectedContent"
        [searchTerm]="searchTerm" [users]="usersList" [id]="content.id" [specId]="sectionIndex + 1 + '.' + (cIndex + 1)"
        [specItem]="specItem" [reveiwerList]="reveiwerList"></xnode-list-view>
    </div>

    <div *ngIf="checkParaViewSections(content.title) &&  content.title != 'Data Model' " [id]="content.id">
      <xnode-para-view [content]="content.content" [reveiwerList]="reveiwerList" [searchTerm]="searchTerm"
        [users]="usersList" [specItem]="specItem" [id]="content.id" [specId]="sectionIndex + 1 + '.' + (cIndex + 1)"
        [content]="content" [selectedContent]="selectedContent"></xnode-para-view>
    </div>
    <div class="gradientback" *ngIf="!content?.collapsed"></div>
    <div class="collapse" *ngIf="content?.collapsed"></div>
  </div>
