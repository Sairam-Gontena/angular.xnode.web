<div class="spec-body">
    <div class="grid m-0">
        <div class="col-12 p-0" *ngIf="sectionToExpand">
            <xnode-expand-specification [sectionToExpand]="sectionToExpand"
                (dataFlowEmitter)="expandComponent($event)"></xnode-expand-specification>
        </div>
        <div class="col-12 p-0" *ngIf="!sectionToExpand">
            <div class="flex justify-content-center  mb-3" *ngFor="let item of specItemList;let i = index;">
                <div class="intro-grid" *ngIf="!item.content" [id]="item.title">
                    <div class="text-4xl font-semibold">{{item.parentIndex + ' ' + item.title}}</div>
                    <div class="flex align-items-center spec-status">
                        <p class="text-sm font-medium">Published on {{item.created_on | date: 'MMM d, y'}}</p>
                        <i class="pi pi-circle-fill pl-3 pr-3"></i>
                        <p class="text-sm font-medium">Updated on {{item.modified_on | date: 'MMM d, y'}}</p>
                        <i class="pi pi-circle-fill pl-3 pr-3"></i>
                        <p class="text-sm font-medium">3 mins read</p>
                    </div>
                    <div class="flex mt-2">
                        <div class="p-1 pl-3 pr-3 bg-white mr-2 border-round-2xl text-sm font-medium tag-text-color">
                            #{{app_name}}
                        </div>
                    </div>
                    <div class="flex mt-3 author align-items-center">
                        <i class="pi pi-circle-fill text-3xl mr-3"></i>
                        <div class="text-lg">
                            By {{item.modified_by}}
                        </div>
                    </div>
                    <img [src]="getMeBanner(item)" alt="banner" class="mt-3 w-full">
                </div>
                <div [ngClass]="!item?.collapsed ? 'sctions-grid relative' : 'sctions-grid-full relative'"
                    *ngIf="item.content" [id]="item.title" #contentContainer>
                    <h3 class="m-0 pb-2 text-2xl font-bold ">{{item.parentIndex+ ' '+ item.title}}</h3>
                    <p-button (click)="onClickSeeMore(item,i)" label="See More" *ngIf="!item?.collapsed"
                        styleClass="p-button-rounded p-button-outlined see-more-button"
                        class="absolute bottom-0 right-0 mr-2 mb-2 z-1"></p-button>
                    <div class="w-full" *ngIf="item.contentType ==='paragraph'">
                        <div *ngIf=" isArray(item); else notArray">
                            <ul *ngFor="let subItem of item.content">
                                <li>
                                    <p class="m-0 pb-1"><span class="sub-title text-base font-medium">{{subItem.title}}
                                        </span>
                                        : <span class="sub-content font-normal text-base">{{subItem.content}}</span>
                                    </p>
                                </li>
                            </ul>
                        </div>
                        <ng-template #notArray>
                            <div class="flex content text-base font-normal">
                                {{item.content}}
                            </div>
                        </ng-template>
                    </div>
                    <div *ngIf="item.contentType==='iframe'" class=" h-vh">
                        <iframe id="myIframe" [src]="iframeSrc" class="h-full w-full pl-1 pr-1"
                            title="Template Builder">
                        </iframe>
                    </div>
                    <div *ngIf="item.contentType ==='table'">
                        <p-table [columns]="setColumnsToTheTable(item.content)" [value]="item.content">
                            <ng-template pTemplate="header" let-columns>
                                <tr>
                                    <th *ngFor="let col of columns">
                                        {{ col.header }}
                                    </th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-rowData let-columns="columns">
                                <tr>
                                    <td *ngFor="let col of columns">
                                        {{ rowData[col.field] }}
                                    </td>
                                </tr>
                            </ng-template>
                        </p-table>
                    </div>
                    <div *ngIf="item.contentType ==='list'">
                        <ul *ngFor="let subItem of item.content">
                            <li>
                                <p class="m-0 pb-1"> <span class="sub-content font-normal text-base">{{subItem}}</span>
                                </p>
                            </li>
                        </ul>
                    </div>
                    <div *ngIf="item.contentType ==='header-list'">
                        <ul *ngFor="let subItem of item.content">
                            <li>
                                <p class="m-0 pb-1"><span class="sub-title text-base font-medium">{{subItem.title}}
                                    </span>
                                    : <span
                                        class="sub-content font-normal text-base">{{subItem.content.Description}}</span>
                                </p>
                            </li>
                        </ul>
                    </div>
                    <div *ngIf="item.contentType ==='data-model'" class="h-vh">
                        <xnode-data-model-common (dataFlowEmitter)="expandComponent($event)"></xnode-data-model-common>
                    </div>
                    <div *ngIf="item.contentType ==='x-flows'" class="h-vh">
                        <xnode-bpmn-common (dataFlowEmitter)="expandComponent($event)"></xnode-bpmn-common>
                    </div>
                    <div *ngIf="item.contentType ==='json'" class="h-auto overflow-auto">
                        <pre>{{ item.content | json }}</pre>
                    </div>
                    <div *ngIf="item.contentType ==='data-dictionary'">
                        <h4 class="m-0 pb-3">{{item.title}}</h4>
                        <ul *ngFor="let subItem of item.content">
                            <li>
                                <p class="m-0 pb-1"><span class="sub-title text-base font-medium">{{subItem.title}}
                                    </span>
                                    : <span
                                        class="sub-content font-normal text-base">{{subItem.content.Description}}</span>
                                </p>
                            </li>
                        </ul>
                    </div>
                    <div *ngIf="item.contentType ==='OpenAPI'">
                        <div class="flex justify-content-end flex-wrap w-full mt-2">
                            <img src="./assets/spec-maximize.svg" alt="container" width="30" *ngIf="!sectionToExpand"
                                (click)="expandComponent('x-flows')" class="pointer pr-2 mr-2 pt-2">
                            <i class="pi pi-times text-white pointer pr-2 pt-2" (click)="expandComponent('')"
                                *ngIf="sectionToExpand"></i>
                        </div>
                    </div>

                    <div class="gradientback" *ngIf="!item?.collapsed">

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>